function Cube(){this.init=function(a,b,c,d,e){this.gl=a,this.id=b,this.x=c,this.y=d,this.z=e,this.vertices=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],this.setXYZ(),this.cubeVertexPositionBuffer=this.gl.createBuffer(),this.cubeVertexTextureCoordBuffer=this.gl.createBuffer(),this.cubeVertexIndexBuffer=this.gl.createBuffer()},this.generateCubo=function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.cubeVertexPositionBuffer);var a=[this.vertices[0][0],this.vertices[0][1],this.vertices[0][2],this.vertices[1][0],this.vertices[1][1],this.vertices[1][2],this.vertices[2][0],this.vertices[2][1],this.vertices[2][2],this.vertices[3][0],this.vertices[3][1],this.vertices[3][2],this.vertices[4][0],this.vertices[4][1],this.vertices[4][2],this.vertices[5][0],this.vertices[5][1],this.vertices[5][2],this.vertices[6][0],this.vertices[6][1],this.vertices[6][2],this.vertices[7][0],this.vertices[7][1],this.vertices[7][2],this.vertices[5][0],this.vertices[5][1],this.vertices[5][2],this.vertices[3][0],this.vertices[3][1],this.vertices[3][2],this.vertices[2][0],this.vertices[2][1],this.vertices[2][2],this.vertices[6][0],this.vertices[6][1],this.vertices[6][2],this.vertices[4][0],this.vertices[4][1],this.vertices[4][2],this.vertices[7][0],this.vertices[7][1],this.vertices[7][2],this.vertices[1][0],this.vertices[1][1],this.vertices[1][2],this.vertices[0][0],this.vertices[0][1],this.vertices[0][2],this.vertices[7][0],this.vertices[7][1],this.vertices[7][2],this.vertices[6][0],this.vertices[6][1],this.vertices[6][2],this.vertices[2][0],this.vertices[2][1],this.vertices[2][2],this.vertices[1][0],this.vertices[1][1],this.vertices[1][2],this.vertices[4][0],this.vertices[4][1],this.vertices[4][2],this.vertices[0][0],this.vertices[0][1],this.vertices[0][2],this.vertices[3][0],this.vertices[3][1],this.vertices[3][2],this.vertices[5][0],this.vertices[5][1],this.vertices[5][2]];this.centro=[this.vertices[0][0]+this.vertices[1][0]+this.vertices[2][0]+this.vertices[3][0]+this.vertices[4][0]+this.vertices[5][0]+this.vertices[6][0]+this.vertices[7][0],this.vertices[0][1]+this.vertices[1][1]+this.vertices[2][1]+this.vertices[3][1]+this.vertices[4][1]+this.vertices[5][1]+this.vertices[6][1]+this.vertices[7][1],this.vertices[0][2]+this.vertices[1][2]+this.vertices[2][2]+this.vertices[3][2]+this.vertices[4][2]+this.vertices[5][2]+this.vertices[6][2]+this.vertices[7][2]],this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW),this.cubeVertexPositionBuffer.itemSize=3,this.cubeVertexPositionBuffer.numItems=24,this.cubeVertexTextureCoordBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.cubeVertexTextureCoordBuffer);var b=[0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1];this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(b),this.gl.STATIC_DRAW),this.cubeVertexTextureCoordBuffer.itemSize=2,this.cubeVertexTextureCoordBuffer.numItems=24,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.cubeVertexIndexBuffer);var c=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),this.gl.STATIC_DRAW),mvPushMatrix(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.cubeVertexPositionBuffer),this.gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute,3,this.gl.FLOAT,!1,0,0),setMatrixUniforms(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.cubeVertexTextureCoordBuffer),this.gl.vertexAttribPointer(shaderProgram.textureCoordAttribute,this.cubeVertexTextureCoordBuffer.itemSize,this.gl.FLOAT,!1,0,0),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,textureBlue),this.gl.uniform1i(shaderProgram.samplerUniform,0),this.gl.drawElements(this.gl.TRIANGLE_STRIP,6,this.gl.UNSIGNED_SHORT,0),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,textureYellow),this.gl.uniform1i(shaderProgram.samplerUniform,1),this.gl.drawElements(this.gl.TRIANGLE_STRIP,6,this.gl.UNSIGNED_SHORT,12),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,textureWhite),this.gl.uniform1i(shaderProgram.samplerUniform,2),this.gl.drawElements(this.gl.TRIANGLE_STRIP,6,this.gl.UNSIGNED_SHORT,24),this.gl.activeTexture(this.gl.TEXTURE3),this.gl.bindTexture(this.gl.TEXTURE_2D,textureMagent),this.gl.uniform1i(shaderProgram.samplerUniform,3),this.gl.drawElements(this.gl.TRIANGLE_STRIP,6,this.gl.UNSIGNED_SHORT,36),this.gl.activeTexture(this.gl.TEXTURE4),this.gl.bindTexture(this.gl.TEXTURE_2D,textureGreen),this.gl.uniform1i(shaderProgram.samplerUniform,4),this.gl.drawElements(this.gl.TRIANGLE_STRIP,6,this.gl.UNSIGNED_SHORT,48),this.gl.activeTexture(this.gl.TEXTURE5),this.gl.bindTexture(this.gl.TEXTURE_2D,textureRed),this.gl.uniform1i(shaderProgram.samplerUniform,5),this.gl.drawElements(this.gl.TRIANGLE_STRIP,6,this.gl.UNSIGNED_SHORT,60),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.cubeVertexIndexBuffer),mvPopMatrix()},this.rotateX=function(a,b){var c=0,d=0,e=0,f=a[0]-c,g=a[1]-d,h=a[2]-e,i=[[1,0,0],[0,Math.cos(degToRad(b)),Math.sin(degToRad(b))],[0,-Math.sin(degToRad(b)),Math.cos(degToRad(b))]],j=i[0][0]*f+i[0][1]*g+i[0][2]*h+c,k=i[1][0]*f+i[1][1]*g+i[1][2]*h+d,l=i[2][0]*f+i[2][1]*g+i[2][2]*h+e;return a[0]=j,a[1]=k,a[2]=l,a},this.rotateY=function(a,b){var c=0,d=0,e=0,f=a[0]-c,g=a[1]-d,h=a[2]-e,i=[[Math.cos(degToRad(b)),0,Math.sin(degToRad(b))],[0,1,0],[-Math.sin(degToRad(b)),0,Math.cos(degToRad(b))]],j=i[0][0]*f+i[0][1]*g+i[0][2]*h+c,k=i[1][0]*f+i[1][1]*g+i[1][2]*h+d,l=i[2][0]*f+i[2][1]*g+i[2][2]*h+e;return a[0]=j,a[1]=k,a[2]=l,a},this.rotateZ=function(a,b){var c=0,d=0,e=0,f=a[0]-c,g=a[1]-d,h=a[2]-e,i=[[Math.cos(degToRad(b)),-Math.sin(degToRad(b)),0],[Math.sin(degToRad(b)),Math.cos(degToRad(b)),0],[0,0,1],[0,0,0]],j=i[0][0]*f+i[0][1]*g+i[0][2]*h+c,k=i[1][0]*f+i[1][1]*g+i[1][2]*h+d,l=i[2][0]*f+i[2][1]*g+i[2][2]*h+e;return a[0]=j,a[1]=k,a[2]=l,a},this.rotateCubeX=function(a){var b=this;b.vertices.map(function(c,d){b.vertices[d]=b.rotateX(c,a)})},this.rotateCubeY=function(a){var b=this;b.vertices.map(function(c,d){b.vertices[d]=b.rotateY(c,a)})},this.rotateCubeZ=function(a){var b=this;b.vertices.map(function(c,d){b.vertices[d]=b.rotateZ(c,a)})},this.setXYZ=function(){this.vertices[0][0]=-1+this.x,this.vertices[0][1]=-1+this.y,this.vertices[0][2]=1+this.z,this.vertices[1][0]=1+this.x,this.vertices[1][1]=-1+this.y,this.vertices[1][2]=1+this.z,this.vertices[2][0]=1+this.x,this.vertices[2][1]=1+this.y,this.vertices[2][2]=1+this.z,this.vertices[3][0]=-1+this.x,this.vertices[3][1]=1+this.y,this.vertices[3][2]=1+this.z,this.vertices[4][0]=-1+this.x,this.vertices[4][1]=-1+this.y,this.vertices[4][2]=-1+this.z,this.vertices[5][0]=-1+this.x,this.vertices[5][1]=1+this.y,this.vertices[5][2]=-1+this.z,this.vertices[6][0]=1+this.x,this.vertices[6][1]=1+this.y,this.vertices[6][2]=-1+this.z,this.vertices[7][0]=1+this.x,this.vertices[7][1]=-1+this.y,this.vertices[7][2]=-1+this.z}}function initGL(a){try{for(gl=a.getContext("experimental-webgl"),resizeCanvas(),i=0;i<cubeArray.length;i++)cubeArray[i]=new Cube}catch(b){}gl||alert("Oh man!...Could not initialise WebGL. This is so sad! :(")}function getShader(a,b,c){var d;if("fs"==c)d=a.createShader(a.FRAGMENT_SHADER);else{if("vs"!=c)return null;d=a.createShader(a.VERTEX_SHADER)}return a.shaderSource(d,b),a.compileShader(d),a.getShaderParameter(d,a.COMPILE_STATUS)?d:(alert(a.getShaderInfoLog(d)),null)}function initShaders(){var a=getShader(gl,theShaderFs,"fs"),b=getShader(gl,theShaderVs,"vs");shaderProgram=gl.createProgram(),gl.attachShader(shaderProgram,b),gl.attachShader(shaderProgram,a),gl.linkProgram(shaderProgram),gl.getProgramParameter(shaderProgram,gl.LINK_STATUS)||alert("Could not initialise shaders"),gl.useProgram(shaderProgram),shaderProgram.vertexPositionAttribute=gl.getAttribLocation(shaderProgram,"aVertexPosition"),gl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute),shaderProgram.textureCoordAttribute=gl.getAttribLocation(shaderProgram,"aTextureCoord"),gl.enableVertexAttribArray(shaderProgram.textureCoordAttribute),shaderProgram.pMatrixUniform=gl.getUniformLocation(shaderProgram,"uPMatrix"),shaderProgram.mvMatrixUniform=gl.getUniformLocation(shaderProgram,"uMVMatrix"),shaderProgram.samplerUniform=gl.getUniformLocation(shaderProgram,"uSampler")}function mvPushMatrix(){var a=mat4.create();mat4.set(mvMatrix,a),mvMatrixStack.push(a)}function mvPopMatrix(){if(0==mvMatrixStack.length)throw"Invalid popMatrix!";mvMatrix=mvMatrixStack.pop()}function setMatrixUniforms(){gl.uniformMatrix4fv(shaderProgram.pMatrixUniform,!1,pMatrix),gl.uniformMatrix4fv(shaderProgram.mvMatrixUniform,!1,mvMatrix)}function degToRad(a){return a*Math.PI/180}function initCubes(){cubeArray[0].init(gl,1,-2,2,2),cubeArray[1].init(gl,2,0,2,2),cubeArray[2].init(gl,3,2,2,2),cubeArray[3].init(gl,4,-2,0,2),cubeArray[4].init(gl,5,0,0,2),cubeArray[5].init(gl,6,2,0,2),cubeArray[6].init(gl,7,-2,-2,2),cubeArray[7].init(gl,8,0,-2,2),cubeArray[8].init(gl,9,2,-2,2),cubeArray[9].init(gl,10,-2,2,0),cubeArray[10].init(gl,11,0,2,0),cubeArray[11].init(gl,12,2,2,0),cubeArray[12].init(gl,13,-2,0,0),cubeArray[13].init(gl,14,2,0,0),cubeArray[14].init(gl,15,-2,-2,0),cubeArray[15].init(gl,16,0,-2,0),cubeArray[16].init(gl,17,2,-2,0),cubeArray[17].init(gl,18,-2,2,-2),cubeArray[18].init(gl,19,0,2,-2),cubeArray[19].init(gl,20,2,2,-2),cubeArray[20].init(gl,21,-2,0,-2),cubeArray[21].init(gl,22,0,0,-2),cubeArray[22].init(gl,23,2,0,-2),cubeArray[23].init(gl,24,-2,-2,-2),cubeArray[24].init(gl,25,0,-2,-2),cubeArray[25].init(gl,26,2,-2,-2)}function drawScene(){gl.viewport(0,0,gl.viewportWidth,gl.viewportHeight),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),mat4.perspective(45,gl.viewportWidth/gl.viewportHeight,.1,100,pMatrix),mat4.identity(mvMatrix),mat4.translate(mvMatrix,[0,0,-16]),mat4.rotate(mvMatrix,degToRad(xRot),[1,0,0]),mat4.rotate(mvMatrix,degToRad(yRot),[0,1,0]),mat4.multiply(mvMatrix,rotationMatrix)}function resizeCanvas(){var a=document.getElementById("rubiks"),b=a.clientWidth,c=a.clientHeight;(a.width!=b||a.height!=c)&&(a.width=b,a.height=c,gl.viewportWidth=a.width,gl.viewportHeight=a.height)}function animate(){var a=(new Date).getTime();if(0!=lastTime){var b=a-lastTime;xRot+=xSpeed*b/1e3,yRot+=ySpeed*b/1e3,gameStarted||(xRot+=.5,yRot+=.5),cubeArray.map(function(a){a.generateCubo()});var c=movesArray.shift();"function"==typeof c&&c(),checkIfGameEnded()}lastTime=a}function handleKeys(){currentlyPressedKeys[37]&&(yRot-=5),currentlyPressedKeys[39]&&(yRot+=5),currentlyPressedKeys[38]&&(xRot-=5),currentlyPressedKeys[40]&&(xRot+=5)}function scheduleMoveAnimationEvents(a){for(i=1;10>i;i++)movesArray.push(a)}function handleKeyDown(a){if(gameStarted){currentlyPressedKeys[a.keyCode]=!0;var b=String.fromCharCode(a.keyCode);switch("C"==b&&(xRot=0,yRot=0,xSpeed=0,ySpeed=0),b){case"Q":scheduleMoveAnimationEvents(new eventOnZaxis(16,10));break;case"W":scheduleMoveAnimationEvents(new eventOnZaxis(0,10));break;case"E":scheduleMoveAnimationEvents(new eventOnZaxis(-16,10));break;case"A":scheduleMoveAnimationEvents(new eventOnZaxis(16,-10));break;case"S":scheduleMoveAnimationEvents(new eventOnZaxis(0,-10));break;case"D":scheduleMoveAnimationEvents(new eventOnZaxis(-16,-10));break;case"R":scheduleMoveAnimationEvents(new eventOnXaxis(16,10));break;case"T":scheduleMoveAnimationEvents(new eventOnXaxis(0,10));break;case"Y":scheduleMoveAnimationEvents(new eventOnXaxis(-16,10));break;case"F":scheduleMoveAnimationEvents(new eventOnXaxis(16,-10));break;case"G":scheduleMoveAnimationEvents(new eventOnXaxis(0,-10));break;case"H":scheduleMoveAnimationEvents(new eventOnXaxis(-16,-10));break;case"U":scheduleMoveAnimationEvents(new eventOnYaxis(16,10));break;case"I":scheduleMoveAnimationEvents(new eventOnYaxis(0,10));break;case"O":scheduleMoveAnimationEvents(new eventOnYaxis(-16,10));break;case"J":scheduleMoveAnimationEvents(new eventOnYaxis(16,-10));break;case"K":scheduleMoveAnimationEvents(new eventOnYaxis(0,-10));break;case"L":scheduleMoveAnimationEvents(new eventOnYaxis(-16,-10))}}}function handleKeyUp(a){currentlyPressedKeys[a.keyCode]=!1}function handleMouseDown(a){mouseDown=!0,lastMouseX=a.clientX,lastMouseY=a.clientY}function handleMouseUp(){mouseDown=!1}function handleMouseMove(a){if(mouseDown){var b=a.clientX,c=a.clientY;xRot=0,yRot=0,xSpeed=0,ySpeed=0;var d=mat4.create();mat4.identity(d);var e=b-lastMouseX;mat4.rotate(d,degToRad(e/7),[0,1,0]);var f=c-lastMouseY;mat4.rotate(d,degToRad(f/7),[1,0,0]),mat4.multiply(d,rotationMatrix,rotationMatrix),lastMouseX=b,lastMouseY=c}}function handleTouchMove(a){a.preventDefault();var b=a.targetTouches[0].clientX,c=a.targetTouches[0].clientY;1==a.targetTouches.length||2==a.targetTouches.length&&(Math.abs(b-lastMouseX)>Math.abs(c-lastMouseY)?b>lastMouseX?yRot+=2:yRot-=2:c>lastMouseY?xRot+=2:xRot-=2,lastMouseX=b,lastMouseY=c)}function handleLoadedTexture(a){gl.bindTexture(gl.TEXTURE_2D,a),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,a.image),gl.generateMipmap(gl.TEXTURE_2D),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR_MIPMAP_LINEAR),gl.bindTexture(gl.TEXTURE_2D,null),loadedTextures==numTextures&&tick()}function initTextures(){var a=["/resources/img/blue.png","/resources/img/yellow.png","/resources/img/white.png","/resources/img/orange.png","/resources/img/green.png","/resources/img/red.png"];textureBlue=gl.createTexture(),textureBlue.image=new Image,textureBlue.image.onload=function(){loadedTextures++,handleLoadedTexture(textureBlue)},textureBlue.image.src=a[0],textureYellow=gl.createTexture(),textureYellow.image=new Image,textureYellow.image.onload=function(){loadedTextures++,handleLoadedTexture(textureYellow)},textureYellow.image.src=a[1],textureWhite=gl.createTexture(),textureWhite.image=new Image,textureWhite.image.onload=function(){loadedTextures++,handleLoadedTexture(textureWhite)},textureWhite.image.src=a[2],textureMagent=gl.createTexture(),textureMagent.image=new Image,textureMagent.image.onload=function(){loadedTextures++,handleLoadedTexture(textureMagent)},textureMagent.image.src=a[3],textureGreen=gl.createTexture(),textureGreen.image=new Image,textureGreen.image.onload=function(){loadedTextures++,handleLoadedTexture(textureGreen)},textureGreen.image.src=a[4],textureRed=gl.createTexture(),textureRed.image=new Image,textureRed.image.onload=function(){loadedTextures++,handleLoadedTexture(textureRed)},textureRed.image.src=a[5]}function cubeRandom(){var a=[16,-16,0],b=[1,-1],c=[eventOnXaxis,eventOnYaxis,eventOnZaxis];for(xRot=yRot=45,i=0;i<Math.floor(200*Math.random()+1);i++){var d=a[Math.floor(2*Math.random()+1)],e=b[Math.floor(1*Math.random()+1)],f=c[Math.floor(2*Math.random()+1)](d,10*e);for(i=1;10>i;i++)movesArray.push(f)}}function tick(){requestAnimFrame(tick),handleKeys(),drawScene(),animate()}function checkIfGameEnded(){if(gameStarted&&0==movesArray.length){var a=[];for(i=0;i<cubeArray.length;i++){var b=JSON.parse(JSON.stringify(cubeArray[i].vertices));for(z=0;z<b.length;z++){var c=b[z];for(w=0;w<c.length;w++)c[w]=Math.round(c[w])}a.push(b)}JSON.stringify(a)==localStorage.cubeArrayInitSate&&(alert("Good Job! :)"),gameStarted=!1,localStorage.removeItem("cubeSavedState"))}}function initPageEvents(){document.getElementById("btNewGame").onclick=function(){movesArray=[],initCubes();var a=[];for(i=0;i<cubeArray.length;i++)a.push(JSON.parse(JSON.stringify(cubeArray[i].vertices)));localStorage.cubeArrayInitSate=JSON.stringify(a),cubeRandom(),gameStarted=!0},document.getElementById("btSaveGame").onclick=function(){if(gameStarted&&0==movesArray.length){var a=[];for(i=0;i<cubeArray.length;i++)a.push(JSON.parse(JSON.stringify(cubeArray[i].vertices)));localStorage.cubeSavedState=JSON.stringify(a)}},document.getElementById("btLoadGame").onclick=function(){if(void 0!=localStorage.cubeSavedState){var a=JSON.parse(localStorage.cubeSavedState);if(gameStarted&&"undefined"!=typeof a&&26==a.length&&0==movesArray.length)for(i=0;i<cubeArray.length;i++)cubeArray[i].vertices=JSON.parse(JSON.stringify(a[i]))}}}function webGLStart(){var a=document.getElementById("rubiks");initGL(a),initPageEvents(),initShaders(),initTextures(),initCubes(),gl.clearColor(.1,.1,.1,1),gl.enable(gl.DEPTH_TEST),a.addEventListener("touchmove",handleTouchMove),a.onmousedown=handleMouseDown,document.onmouseup=handleMouseUp,document.onkeydown=handleKeyDown,document.onkeyup=handleKeyUp,window.addEventListener("resize",resizeCanvas)}glMatrixArrayType="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array;var vec3={};vec3.create=function(a){var b=new glMatrixArrayType(3);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]),b},vec3.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},vec3.add=function(a,b,c){return c&&a!=c?(c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c):(a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a)},vec3.subtract=function(a,b,c){return c&&a!=c?(c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c):(a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a)},vec3.negate=function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b},vec3.scale=function(a,b,c){return c&&a!=c?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c):(a[0]*=b,a[1]*=b,a[2]*=b,a)},vec3.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=Math.sqrt(c*c+d*d+e*e);return f?1==f?(b[0]=c,b[1]=d,b[2]=e,b):(f=1/f,b[0]=c*f,b[1]=d*f,b[2]=e*f,b):(b[0]=0,b[1]=0,b[2]=0,b)},vec3.cross=function(a,b,c){c||(c=a);var d=a[0],e=a[1];a=a[2];var f=b[0],g=b[1];return b=b[2],c[0]=e*b-a*g,c[1]=a*f-d*b,c[2]=d*g-e*f,c},vec3.length=function(a){var b=a[0],c=a[1];return a=a[2],Math.sqrt(b*b+c*c+a*a)},vec3.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},vec3.direction=function(a,b,c){c||(c=a);var d=a[0]-b[0],e=a[1]-b[1];return a=a[2]-b[2],(b=Math.sqrt(d*d+e*e+a*a))?(b=1/b,c[0]=d*b,c[1]=e*b,c[2]=a*b,c):(c[0]=0,c[1]=0,c[2]=0,c)},vec3.lerp=function(a,b,c,d){return d||(d=a),d[0]=a[0]+c*(b[0]-a[0]),d[1]=a[1]+c*(b[1]-a[1]),d[2]=a[2]+c*(b[2]-a[2]),d},vec3.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var mat3={};mat3.create=function(a){var b=new glMatrixArrayType(9);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9]),b},mat3.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},mat3.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},mat3.transpose=function(a,b){if(!b||a==b){var c=a[1],d=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=c,a[5]=a[7],a[6]=d,a[7]=e,a}return b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8],b},mat3.toMat4=function(a,b){return b||(b=mat4.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=0,b[4]=a[3],b[5]=a[4],b[6]=a[5],b[7]=0,b[8]=a[6],b[9]=a[7],b[10]=a[8],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},mat3.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"};var mat4={};mat4.create=function(a){var b=new glMatrixArrayType(16);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]),b},mat4.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},mat4.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},mat4.transpose=function(a,b){if(!b||a==b){var c=a[1],d=a[2],e=a[3],f=a[6],g=a[7],h=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=c,a[6]=a[9],a[7]=a[13],a[8]=d,a[9]=f,a[11]=a[14],a[12]=e,a[13]=g,a[14]=h,a}return b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15],b},mat4.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14];return a=a[15],n*k*h*e-j*o*h*e-n*g*l*e+f*o*l*e+j*g*p*e-f*k*p*e-n*k*d*i+j*o*d*i+n*c*l*i-b*o*l*i-j*c*p*i+b*k*p*i+n*g*d*m-f*o*d*m-n*c*h*m+b*o*h*m+f*c*p*m-b*g*p*m-j*g*d*a+f*k*d*a+j*c*h*a-b*k*h*a-f*c*l*a+b*g*l*a},mat4.inverse=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=1/(s*D-t*C+u*B+v*A-w*z+x*y);return b[0]=(h*D-i*C+j*B)*E,b[1]=(-d*D+e*C-f*B)*E,b[2]=(p*x-q*w+r*v)*E,b[3]=(-l*x+m*w-n*v)*E,b[4]=(-g*D+i*A-j*z)*E,b[5]=(c*D-e*A+f*z)*E,b[6]=(-o*x+q*u-r*t)*E,b[7]=(k*x-m*u+n*t)*E,b[8]=(g*C-h*A+j*y)*E,b[9]=(-c*C+d*A-f*y)*E,b[10]=(o*w-p*u+r*s)*E,b[11]=(-k*w+l*u-n*s)*E,b[12]=(-g*B+h*z-i*y)*E,b[13]=(c*B-d*z+e*y)*E,b[14]=(-o*v+p*t-q*s)*E,b[15]=(k*v-l*t+m*s)*E,b},mat4.toRotationMat=function(a,b){return b||(b=mat4.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},mat4.toMat3=function(a,b){return b||(b=mat3.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[4],b[4]=a[5],b[5]=a[6],b[6]=a[8],b[7]=a[9],b[8]=a[10],b},mat4.toInverseMat3=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[4],g=a[5],h=a[6],i=a[8],j=a[9],k=a[10],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,b||(b=mat3.create()),b[0]=l*o,b[1]=(-k*d+e*j)*o,b[2]=(h*d-e*g)*o,b[3]=m*o,b[4]=(k*c-e*i)*o,b[5]=(-h*c+e*f)*o,b[6]=n*o,b[7]=(-j*c+d*i)*o,b[8]=(g*c-d*f)*o,b):null},mat4.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14];a=a[15];var s=b[0],t=b[1],u=b[2],v=b[3],w=b[4],x=b[5],y=b[6],z=b[7],A=b[8],B=b[9],C=b[10],D=b[11],E=b[12],F=b[13],G=b[14];return b=b[15],c[0]=s*d+t*h+u*l+v*p,c[1]=s*e+t*i+u*m+v*q,c[2]=s*f+t*j+u*n+v*r,c[3]=s*g+t*k+u*o+v*a,c[4]=w*d+x*h+y*l+z*p,c[5]=w*e+x*i+y*m+z*q,c[6]=w*f+x*j+y*n+z*r,c[7]=w*g+x*k+y*o+z*a,c[8]=A*d+B*h+C*l+D*p,c[9]=A*e+B*i+C*m+D*q,c[10]=A*f+B*j+C*n+D*r,c[11]=A*g+B*k+C*o+D*a,c[12]=E*d+F*h+G*l+b*p,c[13]=E*e+F*i+G*m+b*q,c[14]=E*f+F*j+G*n+b*r,c[15]=E*g+F*k+G*o+b*a,c},mat4.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1];return b=b[2],c[0]=a[0]*d+a[4]*e+a[8]*b+a[12],c[1]=a[1]*d+a[5]*e+a[9]*b+a[13],c[2]=a[2]*d+a[6]*e+a[10]*b+a[14],c},mat4.multiplyVec4=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2];return b=b[3],c[0]=a[0]*d+a[4]*e+a[8]*f+a[12]*b,c[1]=a[1]*d+a[5]*e+a[9]*f+a[13]*b,c[2]=a[2]*d+a[6]*e+a[10]*f+a[14]*b,c[3]=a[3]*d+a[7]*e+a[11]*f+a[15]*b,c},mat4.translate=function(a,b,c){var d=b[0],e=b[1];if(b=b[2],!c||a==c)return a[12]=a[0]*d+a[4]*e+a[8]*b+a[12],a[13]=a[1]*d+a[5]*e+a[9]*b+a[13],a[14]=a[2]*d+a[6]*e+a[10]*b+a[14],a[15]=a[3]*d+a[7]*e+a[11]*b+a[15],a;var f=a[0],g=a[1],h=a[2],i=a[3],j=a[4],k=a[5],l=a[6],m=a[7],n=a[8],o=a[9],p=a[10],q=a[11];return c[0]=f,c[1]=g,c[2]=h,c[3]=i,c[4]=j,c[5]=k,c[6]=l,c[7]=m,c[8]=n,c[9]=o,c[10]=p,c[11]=q,c[12]=f*d+j*e+n*b+a[12],c[13]=g*d+k*e+o*b+a[13],c[14]=h*d+l*e+p*b+a[14],c[15]=i*d+m*e+q*b+a[15],c},mat4.scale=function(a,b,c){var d=b[0],e=b[1];return b=b[2],c&&a!=c?(c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d,c[4]=a[4]*e,c[5]=a[5]*e,c[6]=a[6]*e,c[7]=a[7]*e,c[8]=a[8]*b,c[9]=a[9]*b,c[10]=a[10]*b,c[11]=a[11]*b,c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c):(a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=e,a[5]*=e,a[6]*=e,a[7]*=e,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a)},mat4.rotate=function(a,b,c,d){var e=c[0],f=c[1];c=c[2];var g=Math.sqrt(e*e+f*f+c*c);if(!g)return null;1!=g&&(g=1/g,e*=g,f*=g,c*=g);var h=Math.sin(b),i=Math.cos(b),j=1-i;b=a[0],g=a[1];var k=a[2],l=a[3],m=a[4],n=a[5],o=a[6],p=a[7],q=a[8],r=a[9],s=a[10],t=a[11],u=e*e*j+i,v=f*e*j+c*h,w=c*e*j-f*h,x=e*f*j-c*h,y=f*f*j+i,z=c*f*j+e*h,A=e*c*j+f*h;return e=f*c*j-e*h,f=c*c*j+i,d?a!=d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a,d[0]=b*u+m*v+q*w,d[1]=g*u+n*v+r*w,d[2]=k*u+o*v+s*w,d[3]=l*u+p*v+t*w,d[4]=b*x+m*y+q*z,d[5]=g*x+n*y+r*z,d[6]=k*x+o*y+s*z,d[7]=l*x+p*y+t*z,d[8]=b*A+m*e+q*f,d[9]=g*A+n*e+r*f,d[10]=k*A+o*e+s*f,d[11]=l*A+p*e+t*f,d},mat4.rotateX=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[4],f=a[5],g=a[6],h=a[7],i=a[8],j=a[9],k=a[10],l=a[11];return c?a!=c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[4]=e*b+i*d,c[5]=f*b+j*d,c[6]=g*b+k*d,c[7]=h*b+l*d,c[8]=e*-d+i*b,c[9]=f*-d+j*b,c[10]=g*-d+k*b,c[11]=h*-d+l*b,c},mat4.rotateY=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[0],f=a[1],g=a[2],h=a[3],i=a[8],j=a[9],k=a[10],l=a[11];return c?a!=c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[0]=e*b+i*-d,c[1]=f*b+j*-d,c[2]=g*b+k*-d,c[3]=h*b+l*-d,c[8]=e*d+i*b,c[9]=f*d+j*b,c[10]=g*d+k*b,c[11]=h*d+l*b,c},mat4.rotateZ=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4],j=a[5],k=a[6],l=a[7];return c?a!=c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[0]=e*b+i*d,c[1]=f*b+j*d,c[2]=g*b+k*d,c[3]=h*b+l*d,c[4]=e*-d+i*b,c[5]=f*-d+j*b,c[6]=g*-d+k*b,c[7]=h*-d+l*b,c},mat4.frustum=function(a,b,c,d,e,f,g){g||(g=mat4.create());var h=b-a,i=d-c,j=f-e;return g[0]=2*e/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*e/i,g[6]=0,g[7]=0,g[8]=(b+a)/h,g[9]=(d+c)/i,g[10]=-(f+e)/j,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(f*e*2)/j,g[15]=0,g},mat4.perspective=function(a,b,c,d,e){return a=c*Math.tan(a*Math.PI/360),b=a*b,mat4.frustum(-b,b,-a,a,c,d,e)},mat4.ortho=function(a,b,c,d,e,f,g){g||(g=mat4.create());var h=b-a,i=d-c,j=f-e;return g[0]=2/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2/i,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=-2/j,g[11]=0,g[12]=-(a+b)/h,g[13]=-(d+c)/i,g[14]=-(f+e)/j,g[15]=1,g},mat4.lookAt=function(a,b,c,d){d||(d=mat4.create());var e=a[0],f=a[1];a=a[2];var g=c[0],h=c[1],i=c[2];c=b[1];var j=b[2];if(e==b[0]&&f==c&&a==j)return mat4.identity(d);var k,l,m,n;return c=e-b[0],j=f-b[1],b=a-b[2],n=1/Math.sqrt(c*c+j*j+b*b),c*=n,j*=n,b*=n,k=h*b-i*j,i=i*c-g*b,g=g*j-h*c,(n=Math.sqrt(k*k+i*i+g*g))?(n=1/n,k*=n,i*=n,g*=n):g=i=k=0,h=j*g-b*i,l=b*k-c*g,m=c*i-j*k,(n=Math.sqrt(h*h+l*l+m*m))?(n=1/n,h*=n,l*=n,m*=n):m=l=h=0,d[0]=k,d[1]=h,d[2]=c,d[3]=0,d[4]=i,d[5]=l,d[6]=j,d[7]=0,d[8]=g,d[9]=m,d[10]=b,d[11]=0,d[12]=-(k*e+i*f+g*a),d[13]=-(h*e+l*f+m*a),d[14]=-(c*e+j*f+b*a),d[15]=1,d},mat4.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"},quat4={},quat4.create=function(a){var b=new glMatrixArrayType(4);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]),b},quat4.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},quat4.calculateW=function(a,b){var c=a[0],d=a[1],e=a[2];return b&&a!=b?(b[0]=c,b[1]=d,b[2]=e,b[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),b):(a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a)},quat4.inverse=function(a,b){return b&&a!=b?(b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b[3]=a[3],b):(a[0]*=1,a[1]*=1,a[2]*=1,a)},quat4.length=function(a){var b=a[0],c=a[1],d=a[2];return a=a[3],Math.sqrt(b*b+c*c+d*d+a*a)},quat4.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=Math.sqrt(c*c+d*d+e*e+f*f);return 0==g?(b[0]=0,b[1]=0,b[2]=0,b[3]=0,b):(g=1/g,b[0]=c*g,b[1]=d*g,b[2]=e*g,b[3]=f*g,b)},quat4.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2];a=a[3];var g=b[0],h=b[1],i=b[2];return b=b[3],c[0]=d*b+a*g+e*i-f*h,c[1]=e*b+a*h+f*g-d*i,c[2]=f*b+a*i+d*h-e*g,c[3]=a*b-d*g-e*h-f*i,c},quat4.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2];b=a[0];var g=a[1],h=a[2];a=a[3];var i=a*d+g*f-h*e,j=a*e+h*d-b*f,k=a*f+b*e-g*d;return d=-b*d-g*e-h*f,c[0]=i*a+d*-b+j*-h-k*-g,c[1]=j*a+d*-g+k*-b-i*-h,c[2]=k*a+d*-h+i*-g-j*-b,c},quat4.toMat3=function(a,b){b||(b=mat3.create());var c=a[0],d=a[1],e=a[2],f=a[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h;c*=i;var l=d*h;return d*=i,e*=i,g=f*g,h=f*h,f*=i,b[0]=1-(l+e),b[1]=k-f,b[2]=c+h,b[3]=k+f,b[4]=1-(j+e),b[5]=d-g,b[6]=c-h,b[7]=d+g,b[8]=1-(j+l),b},quat4.toMat4=function(a,b){b||(b=mat4.create());var c=a[0],d=a[1],e=a[2],f=a[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h;c*=i;var l=d*h;return d*=i,e*=i,g=f*g,h=f*h,f*=i,b[0]=1-(l+e),b[1]=k-f,b[2]=c+h,b[3]=0,b[4]=k+f,b[5]=1-(j+e),b[6]=d-g,b[7]=0,b[8]=c-h,b[9]=d+g,b[10]=1-(j+l),b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},quat4.slerp=function(a,b,c,d){d||(d=a);var e=c;return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]<0&&(e=-1*c),d[0]=1-c*a[0]+e*b[0],d[1]=1-c*a[1]+e*b[1],d[2]=1-c*a[2]+e*b[2],d[3]=1-c*a[3]+e*b[3],d},quat4.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"},WebGLUtils=function(){var a=function(a){return'<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+a+"</div></div></td></tr></table>"},b='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',c='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>',d=function(d,f,g){function h(e){var f=d.parentNode;if(f){var g=window.WebGLRenderingContext?c:b;e&&(g+="<br/><br/>Status: "+e),f.innerHTML=a(g)}}g=g||h,d.addEventListener&&d.addEventListener("webglcontextcreationerror",function(a){g(a.statusMessage)},!1);var i=e(d,f);return i||window.WebGLRenderingContext||g(""),i},e=function(a,b){for(var c=["webgl","experimental-webgl","webkit-3d","moz-webgl"],d=null,e=0;e<c.length;++e){try{d=a.getContext(c[e],b)}catch(f){}if(d)break}return d};return{create3DContext:e,setupWebGL:d}}(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var gl,theShaderFs=" precision mediump float;  varying vec2 vTextureCoord;  uniform sampler2D uSampler;  void main(void) {    gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));  } ",theShaderVs=" attribute vec3 aVertexPosition;  attribute vec2 aTextureCoord;  uniform mat4 uMVMatrix;  uniform mat4 uPMatrix;  varying vec2 vTextureCoord;  void main(void) {     gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);     vTextureCoord = aTextureCoord;  }",lastTime=0,cubeArray=new Array(26),shaderProgram,mvMatrix=mat4.create(),pMatrix=mat4.create(),mvMatrixStack=[],xRot=0,xSpeed=0,yRot=0,ySpeed=0,rotationMatrix=mat4.create(),mouseDown=!1,lastMouseX=null,lastMouseY=null,numTextures=6,loadedTextures=0,movesArray=[],currentlyPressedKeys={},gameStarted=!1;mat4.identity(rotationMatrix);var eventOnXaxis=function(a,b){function c(){cubeArray.map(function(c){Math.round(c.centro[0])==a&&c.rotateCubeX(b)})}return c},eventOnYaxis=function(a,b){function c(){cubeArray.map(function(c){Math.round(c.centro[1])==a&&c.rotateCubeY(b)})}return c},eventOnZaxis=function(a,b){function c(){cubeArray.map(function(c){Math.round(c.centro[2])==a&&c.rotateCubeZ(b)})}return c};